TEMPLATE BUILDER ANALYSIS - EXTRACTION OPPORTUNITIES

File: pagevoo-frontend/src/pages/TemplateBuilder.tsx
Total Lines: 5,019
Size: ~150 KB

STRUCTURE:
Lines 1-98:       Imports & Types (98 lines)
Lines 99-458:     Helper Functions (359 lines)
Lines 460-560:    State Declarations (100 lines) - 88 useState
Lines 560-770:    Setup & Effects (210 lines)
Lines 770-3240:   Handler Functions (2,470 lines)
Lines 3240-4404:  renderSection() - LARGEST (1,164 lines) ***
Lines 4404-4450:  Sidebar Resizing (46 lines)
Lines 4450-4750:  Main JSX (300 lines)
Lines 4750-5019:  Modal Rendering (269 lines)

TOP 5 EXTRACTION CANDIDATES:

1. NAVBAR SECTION (348 lines)
   Location: Lines 3964-4312
   Extraction Potential: 350 lines
   Effort: 7 hours
   Components: NavbarSection.tsx, LinkItem.tsx, DropdownMenu.tsx, NavbarUtils.ts

2. TEXT EDITOR LOGIC (300+ lines)
   Location: Lines 1779-2600
   Extraction Potential: 300 lines
   Effort: 6 hours
   Strategy: Custom hooks (useTextEditor, useImageSettings, useTextFormatting)

3. PAGE TEMPLATES (200 lines)
   Location: Lines 1070-1270 (in handleAddPageFromTemplate)
   Extraction Potential: 200 lines
   Effort: 20 minutes
   File: data/pageTemplates.ts

4. SECTION COMPONENTS (600+ lines)
   Location: Lines 3269-4403 (entire renderSection minus navbar)
   Extraction Potential: 600 lines
   Effort: 9 hours
   Components: HeroSection, GallerySection, GridSection, FooterSection, etc.

5. MODAL MANAGEMENT (200 lines)
   Location: Lines 4756-5015
   Extraction Potential: 180 lines
   Effort: 4 hours
   File: ModalManager.tsx - consolidate all modal logic

TOTAL IMPACT:
- Lines to remove: 1,400-1,600 (28-32%)
- Final size: 3,400-3,600 lines
- New files: 15-17 components/hooks
- Total effort: 18-23 hours

DETAILED BREAKDOWN:

A. Page Templates (200 lines) - QUICK WIN
   - Move template definitions from handleAddPageFromTemplate (lines 1070-1270)
   - Create: data/pageTemplates.ts
   - Effort: 20 minutes
   - Lines saved: 200

B. EditableText Component (18 lines)
   - Current: Lines 3249-3267
   - Create: components/EditableText.tsx
   - Effort: 30 minutes
   - Lines saved: 18

C. Section Components (600+ lines)
   - Hero (30 lines) - Lines 3836-3866
   - Gallery (19 lines) - Lines 3868-3887
   - Grid (59 lines) - Lines 3773-3832
   - ContactForm (73 lines) - Lines 3889-3962
   - Footer (67 lines) - Lines 4327-4394
   - SectionWrapper (62 lines) - Lines 3314-3376
   - PositionIndicators (29 lines) - Lines 3332-3361
   - HoverControls (111 lines) - Lines 3378-3489
   Total: ~450 lines
   Effort: 8-9 hours

D. Navbar Section (348 lines)
   - Location: Lines 3964-4312
   - Complexity: VERY HIGH
   - Contains: Link rendering, dropdown menus, button styling, mobile menu
   - Effort: 7 hours
   - Components needed:
     * NavbarSection.tsx (main - 216 lines)
     * LinkItem.tsx (60 lines)
     * DropdownMenu.tsx (80 lines)
     * NavbarUtils.ts (styling helpers - 40 lines)

E. Text Editor Hooks (300+ lines)
   - Functions: 
     * handleTextEdit (41)
     * handleEditorClick (43)
     * handleEditorPaste (62)
     * Link handling (65)
     * Image link (52)
     * Image alt text (34)
     * Image dimensions (59)
     * Font operations (26)
     * Color operations (27)
     * Formatting state (54)
   - Strategy: Extract to 3 custom hooks
     * useTextEditor.ts (150 lines)
     * useImageSettings.ts (80 lines)
     * useTextFormatting.ts (70 lines)
   - Effort: 6 hours

F. Modal Manager (200 lines)
   - Location: Lines 4756-5015
   - Consolidate 10 modal renderings into one component
   - State: modal visibility flags, modal handlers
   - Effort: 4 hours

RECOMMENDATION ORDER:

Phase 1 (2-3 hours): Quick wins
  1. Page Templates (20 min)
  2. EditableText (30 min)
  3. PositionIndicators (30 min)
  Total: ~247 lines

Phase 2 (4-5 hours): Section components
  4. Hero/Gallery/Grid/Contact/Footer sections
  5. Section Wrapper & Hover Controls
  Total: ~450 lines

Phase 3 (13-15 hours): Major refactors
  6. Navbar Section (7 hours)
  7. Text Editor Hooks (6 hours)
  8. Modal Manager (4 hours)
  Total: ~830 lines

FINAL RESULT:
Current: 5,019 lines
After Extraction: 3,400-3,600 lines (30% smaller)
New Files: 17 components/hooks
Time Investment: 18-23 hours
